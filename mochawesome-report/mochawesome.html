<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:4,&quot;tests&quot;:21,&quot;passes&quot;:21,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2021-04-04T21:08:02.648Z&quot;,&quot;end&quot;:&quot;2021-04-04T21:08:03.115Z&quot;,&quot;duration&quot;:467,&quot;testsRegistered&quot;:21,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;831d4ddb-ef1c-41b0-a3d0-d79bb2d9f7f1&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;55e07ef3-627a-40dc-94d5-f22aba19ded1&quot;,&quot;title&quot;:&quot;Candidate API tests&quot;,&quot;fullFile&quot;:&quot;/home/juber/ait/continuos-delivery/donation-web/test/authapitest.js&quot;,&quot;file&quot;:&quot;/test/authapitest.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Candidate API tests \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await donationService.deleteAllUsers();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;36d78f5e-1fe9-4719-93b3-b3d70cf942cb&quot;,&quot;parentUUID&quot;:&quot;55e07ef3-627a-40dc-94d5-f22aba19ded1&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;authenticate&quot;,&quot;fullTitle&quot;:&quot;Candidate API tests authenticate&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const returnedUser = await donationService.createUser(newUser);\nconst response = await donationService.authenticate(newUser);\nassert(response.success);\nassert.isDefined(response.token);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;853295ba-a1b9-47cf-b74c-4d868db83885&quot;,&quot;parentUUID&quot;:&quot;55e07ef3-627a-40dc-94d5-f22aba19ded1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;verify Token&quot;,&quot;fullTitle&quot;:&quot;Candidate API tests verify Token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const returnedUser = await donationService.createUser(newUser);\nconst response = await donationService.authenticate(newUser);\nassert(response.success);\nconst userInfo = utils.decodeToken(response.token);\nassert.equal(userInfo.email, returnedUser.email);\nassert.equal(userInfo.userId, returnedUser._id);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;979fa4d2-ac06-4974-b3cf-cd88b6be50ac&quot;,&quot;parentUUID&quot;:&quot;55e07ef3-627a-40dc-94d5-f22aba19ded1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;853295ba-a1b9-47cf-b74c-4d868db83885&quot;,&quot;979fa4d2-ac06-4974-b3cf-cd88b6be50ac&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:14,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;6a073d05-1da2-4903-bf54-b76ac9560fc7&quot;,&quot;title&quot;:&quot;Candidate API tests&quot;,&quot;fullFile&quot;:&quot;/home/juber/ait/continuos-delivery/donation-web/test/candidatesapitest.js&quot;,&quot;file&quot;:&quot;/test/candidatesapitest.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Candidate API tests \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await donationService.deleteAllUsers();\nconst returnedUser = await donationService.createUser(newUser);\nconst response = await donationService.authenticate(newUser);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3452c66d-5c5c-44ae-9186-bf81c7c91946&quot;,&quot;parentUUID&quot;:&quot;6a073d05-1da2-4903-bf54-b76ac9560fc7&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Candidate API tests \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await donationService.deleteAllCandidates();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eacda486-097f-4a57-956a-bd11a347d6cd&quot;,&quot;parentUUID&quot;:&quot;6a073d05-1da2-4903-bf54-b76ac9560fc7&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Candidate API tests \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await donationService.deleteAllUsers();\ndonationService.clearAuth();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ff4b07d5-d8fe-4328-8f19-7c56d2619d51&quot;,&quot;parentUUID&quot;:&quot;6a073d05-1da2-4903-bf54-b76ac9560fc7&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Candidate API tests \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await donationService.deleteAllCandidates();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;848f053d-6e94-4922-90ee-049eba05dbaf&quot;,&quot;parentUUID&quot;:&quot;6a073d05-1da2-4903-bf54-b76ac9560fc7&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;create a candidate&quot;,&quot;fullTitle&quot;:&quot;Candidate API tests create a candidate&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const returnedCandidate = await donationService.createCandidate(newCandidate);\nassert(_.some([returnedCandidate], newCandidate), &#x27;returnedCandidate must be a superset of newCandidate&#x27;);\nassert.isDefined(returnedCandidate._id);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1d36d225-8612-41a9-991e-286dd77fba06&quot;,&quot;parentUUID&quot;:&quot;6a073d05-1da2-4903-bf54-b76ac9560fc7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;get candidate&quot;,&quot;fullTitle&quot;:&quot;Candidate API tests get candidate&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const c1 = await donationService.createCandidate(newCandidate);\nconst c2 = await donationService.getCandidate(c1._id);\nassert.deepEqual(c1, c2);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;47652496-30e6-4598-9155-102dd4c79d44&quot;,&quot;parentUUID&quot;:&quot;6a073d05-1da2-4903-bf54-b76ac9560fc7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;get invalid candidate&quot;,&quot;fullTitle&quot;:&quot;Candidate API tests get invalid candidate&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const c1 = await donationService.getCandidate(&#x27;1234&#x27;);\nassert.isNull(c1);\nconst c2 = await donationService.getCandidate(&#x27;012345678901234567890123&#x27;);\nassert.isNull(c2);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bd9969a2-5735-4551-bd9b-fdc5acf04ef6&quot;,&quot;parentUUID&quot;:&quot;6a073d05-1da2-4903-bf54-b76ac9560fc7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;delete a candidate&quot;,&quot;fullTitle&quot;:&quot;Candidate API tests delete a candidate&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let c = await donationService.createCandidate(newCandidate);\nassert(c._id != null);\nawait donationService.deleteOneCandidate(c._id);\nc = await donationService.getCandidate(c._id);\nassert(c == null);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;81708f88-5ce2-493c-8929-c8183b6cf59f&quot;,&quot;parentUUID&quot;:&quot;6a073d05-1da2-4903-bf54-b76ac9560fc7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;get all candidates&quot;,&quot;fullTitle&quot;:&quot;Candidate API tests get all candidates&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;for (let c of candidates) {\n  await donationService.createCandidate(c);\n}\nconst allCandidates = await donationService.getCandidates();\nassert.equal(allCandidates.length, candidates.length);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c2d5075e-7dd9-4345-8d89-57d557bc769e&quot;,&quot;parentUUID&quot;:&quot;6a073d05-1da2-4903-bf54-b76ac9560fc7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;get candidates detail&quot;,&quot;fullTitle&quot;:&quot;Candidate API tests get candidates detail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;for (let c of candidates) {\n  await donationService.createCandidate(c);\n}\nconst allCandidates = await donationService.getCandidates();\nfor (var i = 0; i &lt; candidates.length; i++) {\n  assert(_.some([allCandidates[i]], candidates[i]), &#x27;returnedCandidate must be a superset of newCandidate&#x27;);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d74b2f6f-24ea-41a5-bf9b-2178f3051e14&quot;,&quot;parentUUID&quot;:&quot;6a073d05-1da2-4903-bf54-b76ac9560fc7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;get all candidates empty&quot;,&quot;fullTitle&quot;:&quot;Candidate API tests get all candidates empty&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const allCandidates = await donationService.getCandidates();\nassert.equal(allCandidates.length, 0);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8950956f-b47d-4b93-92fa-9f72d00f0e28&quot;,&quot;parentUUID&quot;:&quot;6a073d05-1da2-4903-bf54-b76ac9560fc7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1d36d225-8612-41a9-991e-286dd77fba06&quot;,&quot;47652496-30e6-4598-9155-102dd4c79d44&quot;,&quot;bd9969a2-5735-4551-bd9b-fdc5acf04ef6&quot;,&quot;81708f88-5ce2-493c-8929-c8183b6cf59f&quot;,&quot;c2d5075e-7dd9-4345-8d89-57d557bc769e&quot;,&quot;d74b2f6f-24ea-41a5-bf9b-2178f3051e14&quot;,&quot;8950956f-b47d-4b93-92fa-9f72d00f0e28&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:63,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;bed5779d-c0dc-416b-868a-fbddf8f0ae2b&quot;,&quot;title&quot;:&quot;Donation API tests&quot;,&quot;fullFile&quot;:&quot;/home/juber/ait/continuos-delivery/donation-web/test/donationsapitest.js&quot;,&quot;file&quot;:&quot;/test/donationsapitest.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Donation API tests \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await donationService.deleteAllUsers();\nconst returnedUser = await donationService.createUser(newUser);\nconst response = await donationService.authenticate(newUser);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1b904c64-b1dd-4de7-be51-b237c4b1b180&quot;,&quot;parentUUID&quot;:&quot;bed5779d-c0dc-416b-868a-fbddf8f0ae2b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Donation API tests \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await donationService.deleteAllDonations();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0c739766-436c-4134-8764-a5a1fc9aabb9&quot;,&quot;parentUUID&quot;:&quot;bed5779d-c0dc-416b-868a-fbddf8f0ae2b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Donation API tests \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await donationService.deleteAllUsers();\ndonationService.clearAuth();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2f58e90c-9043-4658-ac31-e27216d1ef9b&quot;,&quot;parentUUID&quot;:&quot;bed5779d-c0dc-416b-868a-fbddf8f0ae2b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;Donation API tests \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await donationService.deleteAllDonations();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d7dcb946-bc1d-4ac7-bd8f-767d1237c301&quot;,&quot;parentUUID&quot;:&quot;bed5779d-c0dc-416b-868a-fbddf8f0ae2b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;create a donation&quot;,&quot;fullTitle&quot;:&quot;Donation API tests create a donation&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const returnedCandidate = await donationService.createCandidate(newCandidate);\nawait donationService.makeDonation(returnedCandidate._id, donations[0]);\nconst returnedDonations = await donationService.getDonations(returnedCandidate._id);\nassert.equal(returnedDonations.length, 1);\nassert(_.some([returnedDonations[0]], donations[0]), &#x27;returned donation must be a superset of donation&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;744ff523-8786-4990-9d5f-047410abd2bc&quot;,&quot;parentUUID&quot;:&quot;bed5779d-c0dc-416b-868a-fbddf8f0ae2b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;create multiple donations&quot;,&quot;fullTitle&quot;:&quot;Donation API tests create multiple donations&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:27,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const returnedCandidate = await donationService.createCandidate(newCandidate);\nfor (var i = 0; i &lt; donations.length; i++) {\n  await donationService.makeDonation(returnedCandidate._id, donations[i]);\n}\nconst returnedDonations = await donationService.getDonations(returnedCandidate._id);\nassert.equal(returnedDonations.length, donations.length);\nfor (var i = 0; i &lt; donations.length; i++) {\n  assert(_.some([returnedDonations[i]], donations[i]), &#x27;returned donation must be a superset of donation&#x27;);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e9244a71-73f8-487d-ba83-f0da551fc3d3&quot;,&quot;parentUUID&quot;:&quot;bed5779d-c0dc-416b-868a-fbddf8f0ae2b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;delete all donations&quot;,&quot;fullTitle&quot;:&quot;Donation API tests delete all donations&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:37,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const returnedCandidate = await donationService.createCandidate(newCandidate);\nfor (var i = 0; i &lt; donations.length; i++) {\n  await donationService.makeDonation(returnedCandidate._id, donations[i]);\n}\nconst d1 = await donationService.getDonations(returnedCandidate._id);\nassert.equal(d1.length, donations.length);\nawait donationService.deleteAllDonations();\nconst d2 = await donationService.getDonations(returnedCandidate._id);\nassert.equal(d2.length, 0);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0decb117-9dd9-4894-b95c-8028e5b6f3b7&quot;,&quot;parentUUID&quot;:&quot;bed5779d-c0dc-416b-868a-fbddf8f0ae2b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;delete donations&quot;,&quot;fullTitle&quot;:&quot;Donation API tests delete donations&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:29,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const returnedCandidate = await donationService.createCandidate(newCandidate);\nfor (var i = 0; i &lt; donations.length; i++) {\n  await donationService.makeDonation(returnedCandidate._id, donations[i]);\n}\nawait donationService.deleteDonations(returnedCandidate._id);\nconst d = await donationService.getDonations(returnedCandidate._id);\nconsole.log(d);\nassert.equal(d.length, 0);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6f5b869a-6b03-412e-8532-33a112e4e819&quot;,&quot;parentUUID&quot;:&quot;bed5779d-c0dc-416b-868a-fbddf8f0ae2b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;create a donation and check donor&quot;,&quot;fullTitle&quot;:&quot;Donation API tests create a donation and check donor&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const returnedCandidate = await donationService.createCandidate(newCandidate);\nawait donationService.makeDonation(returnedCandidate._id, donations[0]);\nconst returnedDonations = await donationService.getDonations(returnedCandidate._id);\nassert.isDefined(returnedDonations[0].donor);\nconst users = await donationService.getUsers();\nassert(_.some([users[0]], newUser), &#x27;returnedUser must be a superset of newUser&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3820357d-58b8-4c42-93e8-cd552a9ee96c&quot;,&quot;parentUUID&quot;:&quot;bed5779d-c0dc-416b-868a-fbddf8f0ae2b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;744ff523-8786-4990-9d5f-047410abd2bc&quot;,&quot;e9244a71-73f8-487d-ba83-f0da551fc3d3&quot;,&quot;0decb117-9dd9-4894-b95c-8028e5b6f3b7&quot;,&quot;6f5b869a-6b03-412e-8532-33a112e4e819&quot;,&quot;3820357d-58b8-4c42-93e8-cd552a9ee96c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:125,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;70d76d57-a68a-4fd8-bd9f-0adacb974b1a&quot;,&quot;title&quot;:&quot;User API tests&quot;,&quot;fullFile&quot;:&quot;/home/juber/ait/continuos-delivery/donation-web/test/usersapitest.js&quot;,&quot;file&quot;:&quot;/test/usersapitest.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;User API tests \&quot;before all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await donationService.deleteAllUsers();\nconst returnedUser = await donationService.createUser(newUser);\nconst response = await donationService.authenticate(newUser);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;64fd8945-9198-43f2-aec2-37cee1be706f&quot;,&quot;parentUUID&quot;:&quot;70d76d57-a68a-4fd8-bd9f-0adacb974b1a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;User API tests \&quot;after all\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await donationService.deleteAllUsers();\ndonationService.clearAuth();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;919470de-f650-4858-b3c8-156d1aa30aa8&quot;,&quot;parentUUID&quot;:&quot;70d76d57-a68a-4fd8-bd9f-0adacb974b1a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;create a user&quot;,&quot;fullTitle&quot;:&quot;User API tests create a user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const returnedUser = await donationService.createUser(newUser);\nassert(_.some([returnedUser], newUser), &#x27;returnedUser must be a superset of newUser&#x27;);\nassert.isDefined(returnedUser._id);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4cff44b1-de13-4aa1-91f5-9a8e51ed9205&quot;,&quot;parentUUID&quot;:&quot;70d76d57-a68a-4fd8-bd9f-0adacb974b1a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;get user&quot;,&quot;fullTitle&quot;:&quot;User API tests get user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const u1 = await donationService.createUser(newUser);\nconst u2 = await donationService.getUser(u1._id);\nassert.deepEqual(u1, u2);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1621c664-1b4c-4edb-9ed1-6ddab1d3b3ba&quot;,&quot;parentUUID&quot;:&quot;70d76d57-a68a-4fd8-bd9f-0adacb974b1a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;get invalid user&quot;,&quot;fullTitle&quot;:&quot;User API tests get invalid user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const u1 = await donationService.getUser(&#x27;1234&#x27;);\nassert.isNull(u1);\nconst u2 = await donationService.getUser(&#x27;012345678901234567890123&#x27;);\nassert.isNull(u2);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5e1f22eb-7477-4d95-aae3-47299fc90797&quot;,&quot;parentUUID&quot;:&quot;70d76d57-a68a-4fd8-bd9f-0adacb974b1a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;delete a user&quot;,&quot;fullTitle&quot;:&quot;User API tests delete a user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let u = await donationService.createUser(newUser);\nassert(u._id != null);\nawait donationService.deleteOneUser(u._id);\nu = await donationService.getUser(u._id);\nassert(u == null);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7f80a236-1964-4870-a93f-ec6c82eda803&quot;,&quot;parentUUID&quot;:&quot;70d76d57-a68a-4fd8-bd9f-0adacb974b1a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;get all users&quot;,&quot;fullTitle&quot;:&quot;User API tests get all users&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await donationService.deleteAllUsers();\nawait donationService.createUser(newUser);\nawait donationService.authenticate(newUser);\nfor (let u of users) {\n  await donationService.createUser(u);\n}\nconst allUsers = await donationService.getUsers();\nassert.equal(allUsers.length, users.length + 1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e05358c4-3ba7-4cb4-b93f-a2bdf5fd79e0&quot;,&quot;parentUUID&quot;:&quot;70d76d57-a68a-4fd8-bd9f-0adacb974b1a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;get users detail&quot;,&quot;fullTitle&quot;:&quot;User API tests get users detail&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:28,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await donationService.deleteAllUsers();\nconst user = await donationService.createUser(newUser);\nawait donationService.authenticate(newUser);\nfor (let u of users) {\n  await donationService.createUser(u);\n}\nconst testUser = {\n  firstName: user.firstName,\n  lastName: user.lastName,\n  email: user.email,\n  password: user.password\n};\nusers.unshift(testUser);\nconst allUsers = await donationService.getUsers();\nfor (var i = 0; i &lt; users.length; i++) {\n  assert(_.some([allUsers[i]], users[i]), &#x27;returnedUser must be a superset of newUser&#x27;);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;14e53952-0773-4ce2-9eba-2d6ac2bf5f84&quot;,&quot;parentUUID&quot;:&quot;70d76d57-a68a-4fd8-bd9f-0adacb974b1a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;get all users empty&quot;,&quot;fullTitle&quot;:&quot;User API tests get all users empty&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:19,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await donationService.deleteAllUsers();\nconst user = await donationService.createUser(newUser);\nawait donationService.authenticate(newUser);\nconst allUsers = await donationService.getUsers();\nassert.equal(allUsers.length, 1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3ad68301-6553-43cc-85fd-058839859507&quot;,&quot;parentUUID&quot;:&quot;70d76d57-a68a-4fd8-bd9f-0adacb974b1a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4cff44b1-de13-4aa1-91f5-9a8e51ed9205&quot;,&quot;1621c664-1b4c-4edb-9ed1-6ddab1d3b3ba&quot;,&quot;5e1f22eb-7477-4d95-aae3-47299fc90797&quot;,&quot;7f80a236-1964-4870-a93f-ec6c82eda803&quot;,&quot;e05358c4-3ba7-4cb4-b93f-a2bdf5fd79e0&quot;,&quot;14e53952-0773-4ce2-9eba-2d6ac2bf5f84&quot;,&quot;3ad68301-6553-43cc-85fd-058839859507&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:98,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;6.0.1&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;6.2.2&quot;},&quot;marge&quot;:{&quot;version&quot;:&quot;5.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;donation-web&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report/assets&quot;,&quot;jsonFile&quot;:&quot;/home/juber/ait/continuos-delivery/donation-web/mochawesome-report/mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;/home/juber/ait/continuos-delivery/donation-web/mochawesome-report/mochawesome.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>